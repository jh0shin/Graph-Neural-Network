# Pyprof Profile Result

profiling with 
```nvprof -â€“log-file {platform}_nvprof.txt python pyg_dgl.py```

## Pytorch geometric

```
==14232== NVPROF is profiling process 14232, command: python pyg_dgl.py
==14232== Profiling application: python pyg_dgl.py
==14232== Profiling result:
            Type  Time(%)      Time     Calls       Avg       Min       Max  Name
 GPU activities:   20.09%  66.806ms       200  334.03us  291.68us  1.1892ms  volta_sgemm_128x64_nt
                   10.51%  34.953ms       201  173.89us  15.552us  362.59us  volta_sgemm_128x64_tn
                   10.07%  33.478ms       101  331.47us  311.97us  1.0142ms  volta_sgemm_128x64_nn
                    9.47%  31.499ms      1709  18.431us  2.3040us  87.968us  void at::native::unrolled_elementwise_kernel<at::native::MulFunctor<float>, at::detail::Array<char*, int=3>, OffsetCalculator<int=2, unsigned int>, OffsetCalculator<int=1, unsigned int>, at::native::memory::LoadWithoutCast, at::native::memory::StoreWithoutCast>(int, float, at::native::MulFunctor<float>, char*, int=3, at::detail::Array<char*, int=3>, int=2)
                    4.78%  15.890ms       303  52.442us  3.4880us  866.46us  void at::native::_GLOBAL__N__55_tmpxft_00000694_00000000_15_Indexing_compute_86_cpp1_ii_f8340049::indexSelectLargeIndex<float, __int64, unsigned int, int=2, int=2, int=-2, bool=1>(at::cuda::detail::TensorInfo<float, unsigned int>, unsigned int, at::cuda::detail<__int64, float>, int, int, float, float, __int64)
                    3.44%  11.423ms       606  18.849us  2.9440us  803.16us  _ZN2at6native34_scatter_gather_elementwise_kernelILi64ELi4EZNS0_36_cuda_scatter_gather_internal_kernelILb1EfEclINS0_9ReduceAddEEEvRNS_14TensorIteratorExxRKT_EUliE_EEviT1_
                    3.34%  11.100ms       300  37.000us  3.9040us  749.76us  void at::native::indexAddLargeIndex<float, __int64, unsigned int, int=2, int=2, int=-2, bool=1>(at::cuda::detail::TensorInfo<float, unsigned int>, unsigned int, at::cuda::detail<__int64, float>, int, int, float, float, __int64)
                    2.40%  7.9685ms       300  26.561us  3.2960us  73.600us  _ZN2at6native34_scatter_gather_elementwise_kernelILi64ELi4EZNS0_36_cuda_scatter_gather_internal_kernelILb0ENS0_10OpaqueTypeILi4EEEEclINS0_12TensorAssignEEEvRNS_14TensorIteratorExxRKT_EUliE_EEviT1_
                    2.38%  7.9258ms       603  13.143us  8.5440us  36.864us  void cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float>(cusparse::CsrMMPolicy<__int64, float, float, float>, cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float>, bool=0, cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float>, int, int, cusparse::KernelCoeffs<__int64>, int, int, cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float> const *, bool=0 const *, bool=0 const *, __int64 const *, __int64, __int64 const , cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float>, __int64, __int64*, cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float>, __int64)
                    2.11%  7.0117ms      3727  1.8810us     799ns  28.000us  void at::native::vectorized_elementwise_kernel<int=4, at::native::FillFunctor<float>, at::detail::Array<char*, int=1>>(int, float, at::native::FillFunctor<float>)
                    2.04%  6.7813ms       100  67.812us  50.880us  694.46us  volta_sgemm_32x32_sliced1x4_nt
                    2.00%  6.6355ms       804  8.2530us  1.6000us  24.096us  _ZN2at6native29vectorized_elementwise_kernelILi4EZNS0_21threshold_kernel_implIfEEvRNS_14TensorIteratorET_S5_EUlffE_NS_6detail5ArrayIPcLi3EEEEEviT0_T1_
                    1.64%  5.4616ms       400  13.654us  11.424us  41.791us  _ZN2at6native13reduce_kernelILi128ELi4ENS0_8ReduceOpIfNS0_14func_wrapper_tIfZNS0_11sum_functorIfffEclERNS_14TensorIteratorEEUlffE_EEjfLi4EEEEEvT1_
                    1.23%  4.1000ms      1110  3.6930us  3.2320us  18.272us  _ZN2at6native24index_elementwise_kernelILi128ELi4EZNS0_16gpu_index_kernelIZNS0_17index_kernel_implINS0_10OpaqueTypeILi4EEEEEvRNS_14TensorIteratorEN3c108ArrayRefIxEESA_EUlPcSB_xE_EEvS7_SA_SA_RKT_EUliE_EEviT1_
                    1.18%  3.9093ms      1794  2.1790us  1.0240us  23.200us  void at::native::vectorized_elementwise_kernel<int=4, at::native::AddFunctor<float>, at::detail::Array<char*, int=3>>(int, float, at::native::AddFunctor<float>)
                    1.16%  3.8683ms      1818  2.1270us     992ns  9.2160us  void at::native::vectorized_elementwise_kernel<int=4, at::native::MulScalarFunctor<float, float>, at::detail::Array<char*, int=2>>(int, float, float)
                    1.15%  3.8338ms      2827  1.3560us     959ns  6.8480us  [CUDA memcpy DtoH]
                    1.11%  3.7066ms        32  115.83us     800ns  1.7081ms  [CUDA memcpy HtoD]
                    1.11%  3.6874ms       606  6.0840us  2.3680us  29.408us  void at::native::unrolled_elementwise_kernel<at::native::AddFunctor<float>, at::detail::Array<char*, int=3>, OffsetCalculator<int=2, unsigned int>, OffsetCalculator<int=1, unsigned int>, at::native::memory::LoadWithoutCast, at::native::memory::StoreWithoutCast>(int, float, at::native::AddFunctor<float>, char*, int=3, at::detail::Array<char*, int=3>, int=2)
                    1.08%  3.5747ms       302  11.836us  3.4560us  45.920us  volta_sgemm_32x128_tn
                    1.07%  3.5415ms      1513  2.3400us  1.9520us  11.392us  void cub::DeviceSelectSweepKernel<cub::DispatchSelectIf<cub::CountingInputIterator<__int64, __int64>, cub::TransformInputIterator<bool, at::native::NonZeroOp<bool>, bool*, __int64>, __int64*, int*, cub::NullType, cub::NullType, int, bool=0>::PtxSelectIfPolicyT, cub::CountingInputIterator<__int64, __int64>, cub::TransformInputIterator<bool, at::native::NonZeroOp<bool>, bool*, __int64>, __int64*, int*, cub::ScanTileState<int, bool=1>, cub::NullType, cub::NullType, int, bool=0>(__int64, cub::CountingInputIterator<__int64, __int64>, bool, bool, at::native::NonZeroOp<bool>, bool*, __int64, cub::TransformInputIterator<bool, at::native::NonZeroOp<bool>, bool*, __int64>, int)
                    0.95%  3.1564ms       200  15.782us  15.583us  24.192us  void thrust::cuda_cub::core::_kernel_agent<thrust::cuda_cub::__merge_sort::BlockSortAgent<thrust::device_ptr<__int64>, thrust::device_ptr<__int64>, __int64, ThrustLTOp<__int64, bool=0>, thrust::detail::integral_constant<bool, bool=1>, thrust::detail::integral_constant<bool, bool=0>>, bool, thrust::device_ptr<__int64>, thrust::device_ptr<__int64>, __int64, __int64*, __int64*, ThrustLTOp<__int64, bool=0>>(thrust::device_ptr<__int64>, thrust::device_ptr<__int64>, __int64, __int64, bool=0, ThrustLTOp<__int64, bool=0>, bool)
                    0.92%  3.0619ms       302  10.138us  3.3920us  30.080us  volta_sgemm_32x128_nn
                    0.82%  2.7128ms       200  13.564us  8.9920us  44.319us  volta_sgemm_32x128_nt
```
  
## Deep Graph Library
```
==21708== NVPROF is profiling process 21708, command: python pyg_dgl.py
==21708== Profiling application: python pyg_dgl.py
==21708== Profiling result:
            Type  Time(%)      Time     Calls       Avg       Min       Max  Name
 GPU activities:   19.63%  61.304ms       200  306.52us  291.78us  1.1526ms  volta_sgemm_128x64_nt
                   11.17%  34.886ms       201  173.56us  15.616us  335.14us  volta_sgemm_128x64_tn
                   10.15%  31.688ms      1709  18.541us  2.4000us  571.77us  void at::native::unrolled_elementwise_kernel<at::native::MulFunctor<float>, at::detail::Array<char*, int=3>, OffsetCalculator<int=2, unsigned int>, OffsetCalculator<int=1, unsigned int>, at::native::memory::LoadWithoutCast, at::native::memory::StoreWithoutCast>(int, float, at::native::MulFunctor<float>, char*, int=3, at::detail::Array<char*, int=3>, int=2)
                   10.12%  31.589ms       101  312.76us  311.71us  315.45us  volta_sgemm_128x64_nn
                    3.70%  11.545ms       303  38.103us  3.4240us  381.95us  void at::native::_GLOBAL__N__55_tmpxft_00000694_00000000_15_Indexing_compute_86_cpp1_ii_f8340049::indexSelectLargeIndex<float, __int64, unsigned int, int=2, int=2, int=-2, bool=1>(at::cuda::detail::TensorInfo<float, unsigned int>, unsigned int, at::cuda::detail<__int64, float>, int, int, float, float, __int64)
                    3.50%  10.918ms       300  36.393us  3.9040us  580.57us  void at::native::indexAddLargeIndex<float, __int64, unsigned int, int=2, int=2, int=-2, bool=1>(at::cuda::detail::TensorInfo<float, unsigned int>, unsigned int, at::cuda::detail<__int64, float>, int, int, float, float, __int64)
                    3.10%  9.6853ms       606  15.982us  2.9760us  100.90us  _ZN2at6native34_scatter_gather_elementwise_kernelILi64ELi4EZNS0_36_cuda_scatter_gather_internal_kernelILb1EfEclINS0_9ReduceAddEEEvRNS_14TensorIteratorExxRKT_EUliE_EEviT1_
                    2.51%  7.8437ms       300  26.145us  3.2960us  70.783us  _ZN2at6native34_scatter_gather_elementwise_kernelILi64ELi4EZNS0_36_cuda_scatter_gather_internal_kernelILb0ENS0_10OpaqueTypeILi4EEEEclINS0_12TensorAssignEEEvRNS_14TensorIteratorExxRKT_EUliE_EEviT1_
                    2.51%  7.8292ms       603  12.983us  8.4800us  25.440us  void cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float>(cusparse::CsrMMPolicy<__int64, float, float, float>, cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float>, bool=0, cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float>, int, int, cusparse::KernelCoeffs<__int64>, int, int, cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float> const *, bool=0 const *, bool=0 const *, __int64 const *, __int64, __int64 const , cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float>, __int64, __int64*, cusparse::csrmm_v2_kernel<cusparse::CsrMMPolicy<__int64, float, float, float>, bool=0, bool=0, bool=0, __int64, __int64, __int64, __int64, float, float, float>, __int64)
                    2.09%  6.5203ms      3727  1.7490us     800ns  31.616us  void at::native::vectorized_elementwise_kernel<int=4, at::native::FillFunctor<float>, at::detail::Array<char*, int=1>>(int, float, at::native::FillFunctor<float>)
                    2.06%  6.4216ms       804  7.9870us  1.6000us  33.664us  _ZN2at6native29vectorized_elementwise_kernelILi4EZNS0_21threshold_kernel_implIfEEvRNS_14TensorIteratorET_S5_EUlffE_NS_6detail5ArrayIPcLi3EEEEEviT0_T1_
                    1.84%  5.7494ms       100  57.494us  50.911us  66.336us  volta_sgemm_32x32_sliced1x4_nt
                    1.73%  5.3934ms       400  13.483us  11.136us  21.760us  _ZN2at6native13reduce_kernelILi128ELi4ENS0_8ReduceOpIfNS0_14func_wrapper_tIfZNS0_11sum_functorIfffEclERNS_14TensorIteratorEEUlffE_EEjfLi4EEEEEvT1_
                    1.24%  3.8774ms      1110  3.4930us  3.2310us  5.9200us  _ZN2at6native24index_elementwise_kernelILi128ELi4EZNS0_16gpu_index_kernelIZNS0_17index_kernel_implINS0_10OpaqueTypeILi4EEEEEvRNS_14TensorIteratorEN3c108ArrayRefIxEESA_EUlPcSB_xE_EEvS7_SA_SA_RKT_EUliE_EEviT1_
                    1.18%  3.6912ms      1794  2.0570us  1.0240us  19.744us  void at::native::vectorized_elementwise_kernel<int=4, at::native::AddFunctor<float>, at::detail::Array<char*, int=3>>(int, float, at::native::AddFunctor<float>)
                    1.18%  3.6855ms      1818  2.0270us     992ns  21.183us  void at::native::vectorized_elementwise_kernel<int=4, at::native::MulScalarFunctor<float, float>, at::detail::Array<char*, int=2>>(int, float, float)
                    1.11%  3.4695ms       606  5.7250us  2.3680us  16.064us  void at::native::unrolled_elementwise_kernel<at::native::AddFunctor<float>, at::detail::Array<char*, int=3>, OffsetCalculator<int=2, unsigned int>, OffsetCalculator<int=1, unsigned int>, at::native::memory::LoadWithoutCast, at::native::memory::StoreWithoutCast>(int, float, at::native::AddFunctor<float>, char*, int=3, at::detail::Array<char*, int=3>, int=2)
                    1.10%  3.4455ms        32  107.67us     832ns  1.6372ms  [CUDA memcpy HtoD]
                    1.10%  3.4249ms       302  11.340us  3.4560us  28.319us  volta_sgemm_32x128_tn
                    1.09%  3.3890ms      1513  2.2390us  1.9200us  7.7440us  void cub::DeviceSelectSweepKernel<cub::DispatchSelectIf<cub::CountingInputIterator<__int64, __int64>, cub::TransformInputIterator<bool, at::native::NonZeroOp<bool>, bool*, __int64>, __int64*, int*, cub::NullType, cub::NullType, int, bool=0>::PtxSelectIfPolicyT, cub::CountingInputIterator<__int64, __int64>, cub::TransformInputIterator<bool, at::native::NonZeroOp<bool>, bool*, __int64>, __int64*, int*, cub::ScanTileState<int, bool=1>, cub::NullType, cub::NullType, int, bool=0>(__int64, cub::CountingInputIterator<__int64, __int64>, bool, bool, at::native::NonZeroOp<bool>, bool*, __int64, cub::TransformInputIterator<bool, at::native::NonZeroOp<bool>, bool*, __int64>, int)
                    1.01%  3.1564ms      2827  1.1160us     960ns  5.9200us  [CUDA memcpy DtoH]
                    1.01%  3.1458ms       200  15.729us  15.583us  17.888us  void thrust::cuda_cub::core::_kernel_agent<thrust::cuda_cub::__merge_sort::BlockSortAgent<thrust::device_ptr<__int64>, thrust::device_ptr<__int64>, __int64, ThrustLTOp<__int64, bool=0>, thrust::detail::integral_constant<bool, bool=1>, thrust::detail::integral_constant<bool, bool=0>>, bool, thrust::device_ptr<__int64>, thrust::device_ptr<__int64>, __int64, __int64*, __int64*, ThrustLTOp<__int64, bool=0>>(thrust::device_ptr<__int64>, thrust::device_ptr<__int64>, __int64, __int64, bool=0, ThrustLTOp<__int64, bool=0>, bool)
                    0.96%  2.9974ms       302  9.9250us  3.4230us  26.176us  volta_sgemm_32x128_nn
                    0.84%  2.6368ms       200  13.184us  8.9280us  18.048us  volta_sgemm_32x128_nt
```
